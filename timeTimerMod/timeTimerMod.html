<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="timeTimerMod.css">
</head>
<body>
    <canvas class="canvas"></canvas>
    <div class="timerSection">
        <input class="setMinutes" type="number" min="1" max="60"><span class="timeLeft">남은시간 표시할 곳</span><span>분</span>
        <div class="beforeStartBtnSection">
            <button class="timerStartBtn">타이머 시작</button>
            <button>다크모드</button>
            <button>숫자표시</button>
        </div>
        <div class="afterStartBtnSection">
            <button>타이머 일시정지</button>
            <button>타이머 다시시작</button>
            <button>타이머 초기화(정지)</button>
            <button>다크모드</button>
            <button>숫자표시</button>
        </div>
    </div>
    <div class="numbersOnClock">
        12,1,2,3,4,5,6,7,8,9,10,11
    </div>
    <script>
      const $canvas = document.querySelector(".canvas");
      const $setMinutes = document.querySelector(".setMinutes");
      const $timerStartBtn = document.querySelector(".timerStartBtn")

      const ctx = $canvas.getContext("2d");

      const lineWidth = 15;
      const lineColor = 'red';

      let lines = []

      function resizeCanvas() {
        $canvas.width = window.innerWidth;
        $canvas.height = window.innerHeight;
      }

      window.addEventListener("resize", resizeCanvas);
      resizeCanvas();


      let elapsedSec = 0;
      function drawSetTime() {
        ctx.clearRect(0, 0, $canvas.width, $canvas.height);
        // 1. 시계 원 그리기
        const centerX = $canvas.width / 2;
        const centerY = $canvas.height / 2;
        const radius = 1000;
        
        // 2. 입력된 분의 비율 계산
        const setMinutes = $setMinutes.value;
        const startAngle = (Math.PI * 3) / 2;
        const endAngle = (Math.PI * 2 / 60) * setMinutes + startAngle
        
        // 3. 시계 원 일부분 채우기
        ctx.beginPath();
        ctx.moveTo(centerX, centerY);
        ctx.arc(centerX, centerY, radius, startAngle, endAngle-elapsedSec, false);
        ctx.lineTo(centerX, centerY);
        ctx.fillStyle = 'rgba(255, 0, 0, 0.5)';
        ctx.fill();

        //Angle value to decrease per minute
        elapsedSec += 6 * (Math.PI/180) * (1/3600);

        //For smooth movement
        setTimeout(drawSetTime, 1000/60)
      }

      $timerStartBtn.addEventListener('click', drawSetTime);

    </script>
    
</body>
</html>