<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="character_quiz.css">
</head>
<body>
    <div class="screen">
        <div class="subject">
            <form>
                <div>출제 주제를 선택해주세요</div>
                <input type="button" class="sportBtn" value="sport player"/>
            </form>
        </div>
        <div class="number">
            <form>
                <div>플레이어 수를 입력하세요.(한바퀴를 돕니다.)</div>
                <input class="numberInput"/>
                <input type="button" class="numberBtn" value="enter"/>
            </form>
            
        </div>
        <div class="gameScreen">
            <div>gameScreen</div>
            <img class="currentImage" src="" alt="image">
            <input class="answer" type="text"/>
            <button class ="next">next</button>
        </div>
    </div>

    <script>
        const $subject = document.querySelector(".subject");
        const $sportBtn = document.querySelector(".sportBtn");
        const $number = document.querySelector(".number");
        const $numberBtn = document.querySelector(".numberBtn")
        const $gameScreen = document.querySelector(".gameScreen");
        const $currentImage = document.querySelector(".currentImage")

        const $answer = document.querySelector(".answer");
        //button for test
        const $next = document.querySelector(".next");

        let currentImageIndex = 0;

        const images = ['./images/sportPlayers/김연경.jpg','./images/sportPlayers/김하성.jpg','./images/sportPlayers/박세리.jpg']

        $number.style.display = 'none'
        $gameScreen.style.display = 'none'

        // First screen : choose subject
        function selectSubject(e) {
            $subject.style.display = 'none'
            $number.style.display = 'block'
        }

        // Second screen : enter number of players(it goes ..)

        function selectNumber(e) {
            $number.style.display = 'none'
            $gameScreen.style.display = 'block'
            gameStart();
        }


        // Third screen : timer for preparing game.
        function gameStart() {
            $currentImage.src = images[currentImageIndex];
            next()
            // console.log(currentImageIndex)
        }

        

        // Third screen : enter answer and start game again with next photo.
        function next() {
            let name = $answer.value;
            // $currentImage.src = images[currentImageIndex];
            if(images[currentImageIndex] === `./images/sportPlayers/${name}.jpg`) {
                console.log('correct!!');
                // console.log(images[currentImageIndex])
                // console.log(`./images/sportPlayers/${name}.jpg`)
                currentImageIndex = (currentImageIndex -1 + images.length) % images.length
                $currentImage.src = images[currentImageIndex];
            } else {
                console.log('fail!!!')
            }
        }

        $sportBtn.addEventListener('click', selectSubject);
        $numberBtn.addEventListener('click', selectNumber);
        $next.addEventListener('click',gameStart);

    </script>
</body>
</html>